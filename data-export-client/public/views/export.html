<div ng-controller="dataExportFilter" class="container">
<div class="leftpanel maindiv col-md-3 col-sm-12">
    <div class="panel panel-default">
		<div class="panel-heading section"><h4><b>Filters</b></h4></div>
		<div class="panel-body" style="padding: 0px 0px 10px 0px;">
			<accordion close-others="true">
				<accordion-group is-open="false">
				  <accordion-heading>Genres</accordion-heading>
				  <div style="max-height:150px; padding:5px; overflow:auto;" class="">
					<label style="font-weight: bold;"><input type="checkbox" checklist-model="exp.genres_all" checklist-value="1" ng-click="toggleAll()"> Select All</label>
					<div class="checkbox" ng-repeat="g in genreList">
						<label><input type="checkbox" checklist-model="exp.genres" checklist-value="g.genre_id"> {{g.genre}}</label>
					</div>
				</div>
				</accordion-group>
				<accordion-group is-open="false">
				  <accordion-heading>Groups</accordion-heading>
				  <div class="row-fluid">
						<div class="input">
							<angucomplete-alt id="ex1"
								placeholder="Enter Group name"
								pause="100"
								selected-object="selectedGroup"
								local-data="groups"
								search-fields="group_name"
								title-field="group_name"
								minlength="1"
								clear-selected="true"
								input-class="form-control form-control-small"/>
						</div>
					</div>
					<div style="max-height:150px; padding:5px; overflow:auto;" >
						<div class="filter_titles ng-binding ng-scope" ng-repeat="g in selectedGroups" style="">
							{{g.title}}
							<a class="pull-right small text-danger" ng-click="removeGroup(g)"><i class="fa fa-times"><b>X</b></i></a>
						</div>
					</div>
				</accordion-group>
				<accordion-group is-open="false">
					<accordion-heading>Titles</accordion-heading>
					<div class="row-fluid">
						<div class="input">
							<angucomplete-alt id="ex1"
								placeholder="Enter movie title"
								pause="100"
								selected-object="selectedMovie"
								local-data="movies"
								search-fields="name"
								title-field="name"
								minlength="1"
								clear-selected="true"
								input-class="form-control form-control-small"/>
						</div>
					</div>
					<div style="max-height:150px; padding:5px; overflow:auto;" >
						<div class="filter_titles ng-binding ng-scope" ng-repeat="movie in selectedMovies" style="">
							{{movie.title}}
							<a class="pull-right small text-danger" ng-click="removeTitle(movie)"><i class="fa fa-times"><b>X</b></i></a>
						</div>
					</div>
				</accordion-group>
				<accordion-group is-open="false">
					<accordion-heading>Locations</accordion-heading>
					<div style="max-height:150px; padding:5px; overflow:auto;" class="" ng-controller="DemoCtrl as demo">
						<button ng-click="demo.selectHats()">
      Select Hats
    </button>
						<!-- 
						<div ng-controller="MyCtrl as fancy">
						<div ivh-treeview="fancy.bag" ></div>
						</div> 
						-->
						<div ivh-treeview="demo.locations"></div>
						<!-- <json-tree object="someobj" root-name="'Global'"></json-tree> -->
					</div>
				</accordion-group>
				<accordion-group is-open="false">
					<accordion-heading>Date Range</accordion-heading>
					<div style="max-height:150px; padding:5px; overflow:auto;" class="">
						<input ui-date="dateOptions" ng-model="exp.startDate" placeholder="Start Date" class="form-control" id="startDate" ng-required="true" datepicker-popup>
						<br/>
						<input ui-date="dateOptions" ng-model="exp.endDate" placeholder="End Date" class="form-control" id="endDate" ng-required="true" datepicker-popup>
					</div>
				</accordion-group>
			</accordion>
		</div>
		<div class="panel-heading section"><h4><b>Output Format</b></h4></div>
		<div class="panel-body" style="padding: 10px 10px 10px 10px;">
			<b class = "required">FIle Format</b>
			<div style="max-height:150px; padding:5px; overflow:auto;" class="">
				<label><input type="radio" ng-model="exp.file_format" name="file_format" value="1"> Separate IP and Title Files</label>
				<label><input type="radio" ng-model="exp.file_format" name="file_format" value="0"> Merged IP and Title Files</label>
			</div>
			<br/>
			<b class = "required">Fields</b>
			<div style="max-height:150px; padding:5px; overflow:auto;" class="">
				<label style="font-weight: bold;"><input type="checkbox" checklist-model="exp.columns_all" checklist-value="1" ng-click="toggleAllColumns()"> Select All</label>
				<div class="checkbox" ng-repeat="column in columns">
					<label><input type="checkbox" checklist-model="exp.columns" checklist-value="column"> {{column}}</label>
				</div>
			</div>
		</div>
		<div class="panel-heading section"><h4><b>Export Settings</b></h4></div>
		<div class="panel-body" style="padding: 10px 10px 10px 10px;">
			<b class = "required">Export Type</b>
			<div style="max-height:150px; padding:5px; overflow:auto;" class="">
				<label><input type="radio" ng-model="exp.export_type" name="export_type" value="1"> One time download</label><br/>
				<label><input type="radio" ng-model="exp.export_type" name="export_type" value="0"> Schedule</label>
			</div>
			<div style="max-height:150px; padding:5px; overflow:auto;" class="" ng-show="exp.export_type == '0'">
				<b class = "required">Frequency</b><br/>
				<label><input type="radio" ng-model="exp.frequency" name="frequency" value="weekly"> Weekly</label><br/>
				<label><input type="radio" ng-model="exp.frequency" name="frequency" value="monthly"> Monthly</label><br/>
				<label><input type="radio" ng-model="exp.frequency" name="frequency" value="daily"> Daily</label>
			</div>
			<br/>
			<b class = "required">File Name</b><br/>
			<input type="text" ng-model="exp.fileName" class="form-control" placeholder="File Name">
			<br/>
			<b class = "required">FTP Location</b>
			<select class="form-control" ng-model="exp.ftp_account_id">
				<option ng-repeat="option in ftp_acc_list" value="{{option.ftp_account_id}}">{{option.title}}</option>
			</select>
		</div>
    </div>
	<div style="padding:5px; overflow:auto;" class="">
		<button value="Reload Table" class="btn btn-success" ng-click="getData('1')">Reload Table</button>
		<button value="Save" class="btn btn-primary" ng-click="submitForm()">Save</button>
	</div>
</div>
<div class="maindiv col-md-9 col-sm-12">
    <div class="panel panel-default">
		<div class="panel-heading section"><h4><b>Results</b></h4></div>
		<div class="panel-body">
			<div class="bs-component">
                <table class="table table-striped table-hover">
					<thead ng-if="headers.length > 0">
						<tr>
							<th ng-repeat="h in headers">{{h}}</th>
						</tr>
					</thead>
                    <tbody>
                        <tr ng-show="dataCount < 0"><td colspan="{{headers.length}}" style="text-align:center;">Data not found for selected criteria</td></tr>
						<tr ng-show="dataCount == 0"><td colspan="{{headers.length}}" style="text-align:center;">Loading new data!!</td></tr>
						<tr dir-paginate="item in ip_values|itemsPerPage:itemsPerPage" total-items="total_count">
							<td ng-repeat="h in headers">{{item[h]}}</td>
						</tr>
                    </tbody>
                </table>
                <dir-pagination-controls
                   max-size="8"
                   direction-links="true"
                   boundary-links="true"
                   on-page-change="getData(newPageNumber)" >
                </dir-pagination-controls>
            </div>
			
		</div>
    </div>
</div>
</div>


